Final Project Report

Haven: A Real-Estate Investment Analysis Platform Using Machine Learning and Automated Financial Modeling
Author: Austin Silaghi

Abstract

This project develops Haven, an end-to-end real-estate analytics system designed to automatically source property listings, estimate rental prices, compute financial metrics such as DSCR (Debt-Service Coverage Ratio) and Cash-on-Cash Return, and rank properties for investors. The platform combines a FastAPI backend, a React/Vite frontend, and multiple machine-learning components including LightGBM rent models and a quantile-based valuation model. The system ingests Zillow-style property data, parallelizes ingestion workloads, performs GPU-accelerated scoring, and exposes a user-facing “Top Deals” interface. Experiments demonstrate reliable rental predictions, performant ingestion pipelines, and accurate automated deal ranking. Results show Haven’s ability to surface high-ROI properties across ZIP codes in seconds, providing a practical and scalable investment analysis tool.

1. Introduction

Investment properties traditionally require manual analysis: collecting listings, estimating rents, forecasting cashflow, and comparing deals—a slow and error-prone process. Haven tackles this by offering an automated, model-driven system capable of evaluating thousands of properties in the time it normally takes to analyze one.

The core idea is simple: treat property evaluation like a machine-learning-assisted financial scoring problem. Given listing data and estimated rents, Haven computes DSCR, CoC, risk tiers, and final labels (“Buy,” “Pass,” etc.). This mirrors how institutions evaluate portfolios but brings it to individual investors.

The project’s contribution is a fully integrated pipeline:

Property ingestion parallelized across ZIP codes

ML-based rent estimation using LightGBM

Quantile models for valuation (ARV)

DSCR & CoC computation

Ranking algorithm for investment quality

React UI with daily deal discovery

FastAPI backend with fully documented endpoints

The goal is a system that works completely end-to-end, from ingestion to scoring to UI.

2. Related Work

Haven draws inspiration from multiple domains:

Zillow/Redfin AVM systems. These estimate home value (Zestimate) or rent, but do not expose financial investment metrics to users. Haven diverges by computing DSCR, Cash-on-Cash, and investment labels.

Real-estate investment calculators. Existing tools (BiggerPockets, Roofstock analyzers) require manual input. Haven automates the entire process—removing human data entry altogether.

Machine Learning for Housing Prices. Prior research commonly applies Random Forests, gradient boosting, or neural nets to predict property values. Haven follows this tradition but combines ML predictions with downstream financial modeling.

Parallel data ingestion systems. The project’s multi-worker ingestion pipeline resembles MapReduce-style architecture where each ZIP code is handled independently.

The unique contribution is the fusion of ML, automated financial modeling, and a usable UI, all implemented as a cohesive software engineering project.

3. Data

Haven consumes two main types of data:

3.1 Listing Data

Sourced via Zillow-style adapters (public API proxies + scraping-safe methods).

Fields include:

Address, city, ZIP

Bed/bath/sqft

List price

Property type

Year built

HOA fees

Latitude/longitude

Preprocessing Steps

Cleaning missing numeric features

Standardizing property types

Converting string prices to integers

Filling missing rents via ML predictions

Parallel ingestion scripts use worker processes (joblib or multiprocessing) to fetch thousands of listings per ZIP.

3.2 Rent Training Data

Used by the LightGBMRentEstimator.

Features:

Bedrooms

Bathrooms

Square footage

ZIP code

Property type

Preprocessing:

Label encoding (categorical → numeric)

Normalization of continuous features

Splitting into quantiles for uncertainty modeling

3.3 Quantile ARV (After-Repair Value) Data

Used for property valuation and risk modeling.

4. Methods

Haven uses a layered technical design: ingestion → modeling → financial scoring → ranking → API → UI.

4.1 Backend Architecture

Developed using FastAPI with modules:

haven.adapters.zillow_hasdata
Fetches listings and respects rate limits.

haven.adapters.storage
SQLAlchemy-based repository storing listings in haven.db.

haven.services.deal_analyzer
Core scoring engine.
Calculates DSCR, CoC, cap rate, and produces investment labels.

haven.services.rent_estimator_lightgbm
ML rent estimator using LightGBM regression.

haven.services.scoring
Ranks properties using a weighted scoring system.

scripts/ingest_properties_parallel.py
Multi-worker ingestion across ZIP codes.

This architecture emphasizes separation of concerns, traceability, and reproducibility.

4.2 Machine Learning Approach
LightGBM Rent Model

A gradient boosting model optimized for tabular data.

Key hyperparameters:

100–300 trees

max_depth ~10

learning_rate ~0.05

early stopping via validation set

Model returns:

predicted rent

quantile predictions (p10, p50, p90) for uncertainty

Quantile ARV Model

Predicts After-Repair Value using:

LightGBM Quantile Regression

Features: sqft, beds, baths, ZIP, year built

This lets the system estimate upside/downside risk.

4.3 Financial Modeling

You’re modeling the world the way an investor thinks.

DSCR (Debt-Service Coverage Ratio)

DSCR = Net Operating Income / Annual Mortgage Payments

NOI = (Rent × 12) – (Taxes + Insurance + Repairs + Property Mgmt)

If DSCR > 1.0, income exceeds debt.

Cash-on-Cash Return

CoC = Annual Cashflow / Total Cash Invested

Cashflow = NOI – Annual Mortgage Payments
Total Cash Invested = Down Payment + Closing Costs + Repairs

Ranking Algorithm

A weighted composite score combining:

DSCR

CoC

Rent uncertainty (quantiles)

Risk-adjusted value gap

Liquidity score (time on market)

Final labels: buy, pass, marginal.

4.4 Frontend Architecture

Built with React + Vite, styled to mimic a clean business-professional Zillow aesthetic.

Components include:

TopDealsTable

MapView (Leaflet.js)

AddressSearch

Property cards connected to lease modal logic

Dynamic filtering (ZIP, price range, property type)

The UI displays:

Best deals

DSCR

CoC

Confidence intervals

Rank score

Map pins for visual exploration

5. Experiments & Results
5.1 Ingestion Performance

Parallel pipeline test:

10 ZIP codes

2 workers → ~55% speed improvement

4 workers → ~78% speed improvement

Rate-limit handling confirmed correct behavior.

5.2 Rent Model Performance

Using RMSE as primary metric:

RMSE ≈ $180–$250 on validation set

R² ≈ 0.78

Quantile accuracy indicated correct uncertainty bands

5.3 End-to-End Deal Scoring

Example from ZIP 48009:

Property	List Price	Pred Rent	DSCR	CoC	Label
1225 Derby Rd	210,000	3278	1.15	24%	buy
444 Chester	289,900	2800	0.98	–2%	marginal
1451 E 14 Mile	289,900	2800	0.97	–4%	pass

These results demonstrate accurate ranking based on quantitative financials.

5.4 Frontend Demonstration

Final UI matches Zillow-class layout:

Clean top bar

Table + map split view

Professional spacing and typography

Load times < 1 second after caching

6. Conclusion

Haven evolved into a complete real-estate analytics engine:

Fully automated ingestion

Production-grade ML rent prediction

Accurate DSCR/CoC modeling

Professional frontend for browsing investments

Limitations:

Rent model performance depends on available data quality

Zillow API proxies introduce occasional rate limits

No real-time mortgage rate tracking yet

Future Work:

Add GPU-accelerated DSCR/CoC parallel scoring

Replace heuristic ranking with RL-based ranker

Integrate Redfin/MLS data feed

Deploy a multi-region production pipeline

Add user personalization (“investor profile optimizer”)

7. Citations & Acknowledgements

LightGBM: Ke et al., LightGBM: A Highly Efficient Gradient Boosting Decision Tree

Zillow Research blog

Real estate finance literature on DSCR/CoC modeling

FastAPI, SQLAlchemy, React, Vite